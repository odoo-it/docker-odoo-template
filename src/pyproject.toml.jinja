[tool.ruff]
line-length = 88

[tool.ruff.lint]
select = [
    "E",        # pycodestyle errors
    "W",        # pycodestyle warnings
    "C90",      # mccabe
    "F",        # pyflakes
    "UP",       # pyupgrade
    "I",        # isort
]

[tool.ruff.lint.per-file-ignores]
"__init__.py" = ["F401", "I001"]
"__manifest__.py" = ["B018"]

[tool.ruff.lint.pycodestyle]
# line-length is set in [tool.ruff], and it's used by the formatter.
# In case the formatter can't autofix the line length, we want to allow exceeding it.
max-line-length = 999

[tool.ruff.lint.isort]
combine-as-imports = true
force-wrap-aliases = true

[tool.ruff.lint.mccabe]
max-complexity = 16

[tool.pylint.master]
load-plugins = ["pylint_odoo"]
score = false

[tool.pylint.odoolint]
manifest-required-keys = ["license"]
manifest-deprecated-keys = ["description", "active"]
valid-odoo-versions = ["{{ odoo_version }}"]

[tool.pylint."messages control"]
disable = "all"
enable = [
    "anomalous-backslash-in-string",
    "api-one-deprecated",
    "api-one-multi-together",
    "assignment-from-none",
    "attribute-deprecated",
    "attribute-string-redundant",
    "character-not-valid-in-resource-link",
    "class-camelcase",
    "consider-merging-classes-inherited",
    "context-overridden",
    "create-user-wo-reset-password",
    "dangerous-default-value",
    "dangerous-filter-wo-user",
    "dangerous-qweb-replace-wo-priority",
    "dangerous-view-replace-wo-priority",
    "deprecated-data-xml-node",
    "deprecated-openerp-xml-node",
    "development-status-allowed",
    "duplicate-id-csv",
    "duplicate-key",
    "duplicate-po-message-definition",
    "duplicate-xml-fields",
    "duplicate-xml-record-id",
    "eval-referenced",
    "eval-used",
    "except-pass",
    "external-request-timeout",
    "file-not-used",
    "incoherent-interpreter-exec-perm",
    "invalid-commit",
    # "license-allowed",
    "manifest-author-string",
    "manifest-deprecated-key",
    "manifest-maintainers-list",
    # "manifest-required-author",
    "manifest-required-key",
    "manifest-version-format",
    "method-compute",
    "method-inverse",
    "method-required-super",
    "method-search",
    "missing-newline-extrafiles",
    "missing-return",
    "odoo-addons-relative-import",
    "old-api7-method-defined",
    "openerp-exception-warning",
    "po-msgstr-variables",
    "po-syntax-error",
    "pointless-statement",
    "pointless-string-statement",
    "print-used",
    "redundant-keyword-arg",
    "redundant-modulename-xml",
    "reimported",
    "relative-import",
    "renamed-field-parameter",
    "resource-not-exist",
    "return-in-init",
    "rst-syntax-error",
    "sql-injection",
    "str-format-used",
    "test-folder-imported",
    "too-few-format-args",
    "translation-contains-variable",
    "translation-field",
    "translation-positional-used",
    "translation-required",
    "unnecessary-utf8-coding-comment",
    "unreachable",
    "use-vim-comment",
    "wrong-tabs-instead-of-spaces",
    "xml-attribute-translatable",
    "xml-deprecated-qweb-directive",
    "xml-deprecated-tree-attribute",
    "xml-syntax-error",
]

[tool.pylint.reports]
output-format = "colorized"
